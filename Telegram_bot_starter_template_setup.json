{
  "meta": {
    "instanceId": "9b8c11ec1d7722d48b6973dbf70400faa913ae64e46fef1f40a9b1d654824ea2"
  },
  "name": "Telegram Bot Setup",
  "nodes": [
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "telegram-webhook"
      },
      "id": "webhook-node",
      "name": "Webhook",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 1,
      "position": [-1320, -2740],
      "webhookId": "11a93b6d-e9b1-4524-addc-a6708806a017"
    },
    {
      "parameters": {
        "values": {
          "string": [
            {
              "name": "ChatId",
              "value": "={{ $json[\"message\"].from.id }}"
            },
            {
              "name": "MessageText",
              "value": "={{ $json[\"message\"].text }}"
            }
          ]
        }
      },
      "id": "set-node",
      "name": "Set Data",
      "type": "n8n-nodes-base.set",
      "typeVersion": 1,
      "position": [-800, -2740]
    },
    {
      "parameters": {
        "rules": [
          {
            "conditions": [
              {
                "value1": "={{ $json[\"MessageText\"] }}",
                "operation": "contains",
                "value2": "/command1"
              }
            ],
            "output": "Command 1"
          },
          {
            "conditions": [
              {
                "value1": "={{ $json[\"MessageText\"] }}",
                "operation": "contains",
                "value2": "/command2"
              }
            ],
            "output": "Command 2"
          },
          {
            "conditions": [
              {
                "value1": "={{ $json[\"MessageText\"] }}",
                "operation": "contains",
                "value2": "/help"
              }
            ],
            "output": "Help Command"
          },
          {
            "conditions": [
              {
                "value1": "={{ $json[\"MessageText\"] }}",
                "operation": "contains",
                "value2": "/status"
              }
            ],
            "output": "Status Command"
          }
        ]
      },
      "id": "switch-commands",
      "name": "Command Switch",
      "type": "n8n-nodes-base.switch",
      "typeVersion": 1,
      "position": [-400, -2740]
    },
    {
      "parameters": {
        "chatId": "={{ $json[\"ChatId\"] }}",
        "text": "Response to Command 1"
      },
      "id": "command1-response",
      "name": "Command 1 Response",
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1,
      "position": [100, -2840],
      "credentials": {
        "telegramApi": {
          "id": "telegram-account",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $json[\"ChatId\"] }}",
        "text": "Response to Command 2"
      },
      "id": "command2-response",
      "name": "Command 2 Response",
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1,
      "position": [100, -2640],
      "credentials": {
        "telegramApi": {
          "id": "telegram-account",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $json[\"ChatId\"] }}",
        "text": "Available commands: /command1, /command2, /help, /status"
      },
      "id": "help-command-response",
      "name": "Help Command Response",
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1,
      "position": [100, -2440],
      "credentials": {
        "telegramApi": {
          "id": "telegram-account",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $json[\"ChatId\"] }}",
        "text": "Bot is running and operational."
      },
      "id": "status-command-response",
      "name": "Status Command Response",
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1,
      "position": [100, -2240],
      "credentials": {
        "telegramApi": {
          "id": "telegram-account",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $json[\"ChatId\"] }}",
        "text": "Unknown Command"
      },
      "id": "unknown-command",
      "name": "Unknown Command Response",
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1,
      "position": [400, -2740],
      "credentials": {
        "telegramApi": {
          "id": "telegram-account",
          "name": "Telegram account"
        }
      }
    }
  ],
  "connections": {
    "webhook-node": {
      "main": [
        [
          {
            "node": "set-node",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "set-node": {
      "main": [
        [
          {
            "node": "switch-commands",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "switch-commands": {
      "main": [
        [
          {
            "node": "command1-response",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "command2-response",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "help-command-response",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "status-command-response",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "unknown-command",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": true,
  "settings": {},
  "id": "telegram-bot-setup"
}
